(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[9,10],{134:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),s=a(15),r=a(14),c=a(0),o=a.n(c),i=a(1),m=a(43),u=a(71),d=a(16),p=a(61),h=a(80),f=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"up-container flex container mx-auto",style:{maxWidth:"500px"}},o.a.createElement("div",{className:"up"},o.a.createElement("div",{className:"ann-preview"},o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"books"},"\ud83d\udcda"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h2",null,o.a.createElement("strong",null,this.props.subject.subject)),o.a.createElement("h4",null,"Subject Code: ",this.props.subject.subjectCode),o.a.createElement("h4",null,"Teacher: ",this.props.subject.teacher),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"5%"}},o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.subject)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))))))}}]),a}(c.Component),b=a(74),g=a.n(b),E=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.renderLecture=function(){var t=e.props.lecture,a=t.subject,n=t.teacher,l=t.startTime,s=t.endTime,r=t.link,c=t.text,i=t.group,m=l.toDate().getHours(),u=l.toDate().getMinutes(),d="am";12===m&&(d="pm"),m>12&&(m-=12,d="pm");var p=u<10?"0"+String(u):String(u),h=s.toDate().getHours(),f=s.toDate().getMinutes(),b="am";12===h&&(b="pm"),h>12&&(h-=12,b="pm");var E=f<10?"0"+String(f):String(f);return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"lec lec-hover",id:l+r},o.a.createElement("div",{className:"lec-preview"},o.a.createElement("div",{className:"time"},o.a.createElement("h3",null,m," : ",p," ",d),o.a.createElement("div",{className:"mb-2",style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("span",{className:"vertical-line",style:{height:"30px"}})),o.a.createElement("h3",null,h," : ",E," ",b)),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("a",{className:"lec-btn btn-primary mt-2",href:r,target:"_blank",rel:"noopener noreferrer"},"Join now")),o.a.createElement("div",{className:"lec-info text-left"},o.a.createElement("div",{className:"main-data"},o.a.createElement("h2",null,o.a.createElement("strong",null,a)),o.a.createElement("h4",null,"Teacher: ",n),o.a.createElement("h4",null,"Group: ",i||"All")),o.a.createElement("hr",null),o.a.createElement("h5",null,o.a.createElement("strong",null,"Description: "),o.a.createElement(g.a,{lines:2,more:"More",less:"Less",anchorClass:"",onClick:function(){return document.getElementById(l+r).classList.toggle("lec-hover")},expanded:!1},c||"No Info Provided")),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"5%"}},o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.lecture)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))))))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderLecture()}}]),a}(c.Component),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.displayUpdate=function(){switch(e.props.announcement.type){case"announcement":return e.displayAnnouncement();case"poll":return e.displayPoll();case"link":return e.displayLink();default:return}},e.displayAnnouncement=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.isOfficial,s=a.toDate(),r=s.getDate(),c=v[s.getMonth()-1],i=s.getFullYear(),m=s.getHours(),u="00",d=s.getMinutes();return u=d<10?"0"+String(d):String(d),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},l&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udce2"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},c," ",r,", ",i," at ",m,":",u),o.a.createElement("div",{style:{minHeight:"50%",display:"flex",alignItems:"center"}},o.a.createElement("h4",null,n)),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayLink=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.link,s=t.isOfficial,r=a.toDate(),c=r.getDate(),i=v[r.getMonth()-1],m=r.getFullYear(),u=r.getHours(),d="00",p=r.getMinutes();return d=p<10?"0"+String(p):String(p),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},s&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udd17"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},i," ",c,", ",m," at ",u,":",d),o.a.createElement("h4",null,n),o.a.createElement("a",{className:"btn link-btn btn-primary mt-2 float-right",href:l,target:"_blank",rel:"noopener noreferrer"},"Visit Link"),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayPoll=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.yesCount,s=t.yesOption,r=t.noCount,c=t.noOption,i=t.isOfficial,m=a.toDate(),u=m.getDate(),d=v[m.getMonth()-1],p=m.getFullYear(),h=m.getHours(),f="00",b=m.getMinutes();f=b<10?"0"+String(b):String(b);var g=100*l/(r+l);Number.isNaN(g)&&(g=0);var E=100*r/(r+l);return Number.isNaN(E)&&(E=0),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},i&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},d," ",u,", ",p," at ",h,":",f),o.a.createElement("h4",null,n),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,s),o.a.createElement("td",null,c)),o.a.createElement("tr",null,o.a.createElement("td",null,l),o.a.createElement("td",null,r)))))),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.getClass=function(){var t="text-left p-4 mb-4 ";switch(e.props.announcement.type){case"announcement":t+="announcement-card ";break;case"poll":t+="poll-card";break;case"link":t+="link-card";break;default:return}return t},e.createButtons=function(){return o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.announcement.dateAndTime)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},o.a.createElement("div",{className:"up mx-auto"},this.displayUpdate()))}}]),a}(c.Component),N=a(44),j=a(47),w=m.a.firestore(),x=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,subject:"",code:"",teacherId:"",teacherName:"",disabled:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",display:"block",background:"pink",color:"black",width:"60%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Teacher Id:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"email",className:"form-control",id:"teacher-id",name:"teacherId",required:!0,value:e.state.teacherId,onChange:e.fetchTeacher}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Teacher Name:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",id:"teacher-name",name:"teacherName",disabled:e.state.disabled,value:e.state.teacherName,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Subject Code:"),o.a.createElement("div",{className:"col-sm-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",value:e.state.code,required:!0,onChange:e.handleChange})),o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Subject Name:"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"subject",value:e.state.subject,required:!0,onChange:e.handleChange}))),o.a.createElement("button",{className:"btn btn-success m-2"},"Add"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n))},e.fetchTeacher=function(t){e.handleChange(t);var a=t.target.value;a&&w.collection("teachers").doc(a).onSnapshot((function(t){t.exists?e.setState({teacherName:t.data().details.name,subjects:t.data().subjects,disabled:!0}):e.setState({teacherName:"",subjects:[],disabled:!1})}))},e.callAddSubject=function(t){t.preventDefault();var a={subject:e.state.subject,subjectCode:e.state.code,teacher:e.state.teacherName,teacherId:e.state.teacherId};e.setState({show:!1}),e.props.addSubject(a),e.setState({subject:"",code:"",teacherName:"",teacherId:"",disabled:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-info btn-lg mb-4",onClick:this.showModal},"New Subject +"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Subject Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddSubject},this.getForm()))))}}]),a}(c.Component),C=a(45),O=a.n(C),k=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).isMount=!1,e.state={show:!1,link:"",subject:"",subjectCode:"",teacher:"",text:"",group:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",display:"block",background:"pink",color:"black",width:"80%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("form",{className:"m-2",onSubmit:e.callAddLecture},o.a.createElement("div",{className:"col-sm-7",style:{margin:"auto"}},o.a.createElement("label",null,"Subject: "),o.a.createElement("select",{className:"add-lec-subject form-control text-center",name:"subject",onChange:e.handleSubjChange,required:!0},o.a.createElement("option",{className:"add-lec-opns",value:""},"--Choose Subject---"),e.props.subjects.map((function(e){return o.a.createElement("option",{className:"add-lec-opns",key:e.subjectCode,value:e.subjectCode},e.subject)})))),o.a.createElement("div",{className:"col-md-7 mb-3",style:{margin:"auto"}},o.a.createElement("label",null,"Link:"),o.a.createElement("input",{type:"url",className:"form-control",id:"link",name:"link",value:e.state.link,onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"Start Time"),o.a.createElement("input",{className:"form-control",type:"datetime-local",name:"startTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"startTime",onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"End Time"),o.a.createElement("input",{className:"form-control",type:"datetime-local",name:"endTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"endTime",onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"Group"),o.a.createElement("input",{className:"form-control",type:"text",name:"group",id:"group",onChange:e.handleChange,placeholder:"leave blank for whole class!"}))),o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control col-sm-10",id:"text",style:{margin:"auto"},value:e.state.text,name:"text",onChange:e.handleChange,placeholder:"no info provided"})),o.a.createElement("button",{className:"btn btn-success",type:"submit"},"Add Lecture")))},e.handleSubjChange=function(t){for(var a=t.target.value,n={},l=e.props.subjects,s=0;s<l.length;s++)if(l[s].subjectCode===a){n=l[s];break}e.setState({subject:n.subject,subjectCode:n.subjectCode,teacher:n.teacher})},e.handleChange=function(t){console.log(t.target.min);var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n))},e.callAddLecture=function(t){t.preventDefault();var a=Date.parse(e.state.startTime),n=Date.parse(e.state.endTime),l=new Date(a),s=new Date(n);if(a<Date.now()-6e4||n<=a)O.a.toast({html:"Enter Valid Class Timings",classes:"toast error-toast"});else{var r={subject:e.state.subject,subjectCode:e.state.subjectCode,teacher:e.state.teacher,startTime:m.a.firestore.Timestamp.fromDate(l),endTime:m.a.firestore.Timestamp.fromDate(s),link:e.state.link,text:e.state.text,group:e.state.group};e.setState({show:!1}),e.props.addLecture(r),e.setState({link:"",subject:"",subjectCode:"",teacher:"",startTime:new Date(0),endTime:new Date(0),text:"",group:""})}},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-info btn-lg mb-4",onClick:this.showModal},"Add Lecture +"),o.a.createElement(j.a,{animation:!1,show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",null,"Add Lecture Details:"))),o.a.createElement(j.a.Body,null,this.getForm())))}}]),a}(c.Component),S=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"80%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"m-2 mb-0",style:{fontSize:"18px"}},"Announcement:")),o.a.createElement("input",{type:"text",className:"form-control mr-2",placeholder:"Enter your main text here...",value:e.state.text,name:"text",required:!0,onChange:e.handleChange})),o.a.createElement("div",{className:"input-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"announcementIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",style:{fontSize:"18px"},htmlFor:"announcementIsOfficial"},"Official")),o.a.createElement("button",{className:"btn btn-success m-2",type:"submit"},"Add"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"announcement",text:e.state.text,isOfficial:e.state.isOfficial};e.props.AddAnnouncement(a),e.setState({text:"",isOfficial:!1}),e.hideModal()},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Announcement"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Announcement Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm()))))}}]),a}(c.Component),A=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,yesOption:"",noOption:"",text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Poll Text:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Poll Details",name:"text",required:!0,value:e.state.text,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"First Option:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"First option",name:"yesOption",required:!0,value:e.state.yesOption,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Second Option:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Second option",name:"noOption",required:!0,value:e.state.noOption,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"pollIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",htmlFor:"pollIsOfficial"},"Official")),o.a.createElement("button",{type:"submit",className:"btn btn-success m-2"},"Add poll"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n))},e.callAddPoll=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"poll",text:e.state.text,yesOption:e.state.yesOption,noOption:e.state.noOption,yesCount:0,noCount:0,isOfficial:e.state.isOfficial};e.props.addPoll(a),e.setState({text:"",yesOption:"",noOption:"",isOfficial:!1}),e.hideModal()},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Poll"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Poll Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddPoll},this.getForm()))))}}]),a}(c.Component),T=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,link:"",text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Link:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"url",className:"form-control",placeholder:"https://link.com",name:"link",value:e.state.link,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Description:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"about the link",name:"text",value:e.state.text,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"linkIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",htmlFor:"linkIsOfficial"},"Official")))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(N.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"link",text:e.state.text,link:e.state.link,isOfficial:e.state.isOfficial};e.props.addLink(a),e.setState({text:"",link:"",isOfficial:!1}),e.hideModal()},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Link"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Link Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm(),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",className:"btn btn-success m-2"},"Add Link"))))))}}]),a}(c.Component),D=a(59),M=a(55),I=a(133),L=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,url:"",title:"",fileName:"",assign:{},progress:0},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.browseFile=function(t){var a=t.target.files[0];a&&e.setState({assign:a})},e.uploadAssign=function(){var t=e.state.assign;if(t.name){document.getElementById("progress").classList.remove("hide");var a=m.a.storage().ref("assignment/".concat(e.props.classCode,"/").concat(t.name));a.put(t).on("state_changed",(function(t){var a=t.bytesTransferred/t.totalBytes*100;console.log(a),function(t){t&&e.setState({progress:t})}(a)}),(function(e){}),(function(){O.a.toast({html:"Uploaded Successfully",classes:"toast success-toast"}),a.getDownloadURL().then((function(a){!function(t,a){t&&a&&e.setState({url:t,fileName:a})}(a,t.name)})).catch((function(e){return console.log(e)}))}))}},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Title")),o.a.createElement("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",placeholder:"Title / Subject",onChange:function(t){e.setState({title:t.target.value})},name:"title",required:!0})),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",onChange:e.browseFile,required:!0}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02","aria-describedby":"inputGroupFileAddon02"},e.state.assign.name?e.state.assign.name:"Choose File")),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon02",onClick:e.uploadAssign,style:{cursor:"pointer"}},"Upload")),o.a.createElement("div",{className:"input-group"},o.a.createElement("progress",{id:"progress",className:"custom-progress-bar hide",value:e.state.progress,max:"100"}," "))),o.a.createElement("button",{className:"btn btn-success m-2",type:"submit"},"Add Assignment"))},e.callAddAssign=function(t){if(t.preventDefault(),e.state.fileName){var a=e.state,n=a.url,l=a.title,s=a.fileName,r={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),url:n,title:l,fileName:s,isOfficial:!0};e.props.addAssign(r),document.getElementById("progress").classList.add("hide"),e.setState({url:"",title:"",fileName:"",assign:{},progress:0,show:!1}),e.hideModal()}else O.a.toast({html:"Please upload file first",classes:"toast error-toast"})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Upload Assignment"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Assignment Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddAssign},this.getForm()))))}}]),a}(c.Component),F=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.download=function(e){var t=e.substring(e.lastIndexOf("/")+1).split("?")[0].split("%2F")[2];t=decodeURIComponent(t);var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(a.response),e.download=t,e.style.display="none",document.body.appendChild(e),e.click()},a.open("GET",e),a.send()},e.displayAssignment=function(){var t=e.props.details,a=t.dateAndTime,n=t.title,l=t.url,s=a.toDate(),r=s.getDate(),c=v[s.getMonth()-1],i=s.getFullYear(),m=s.getHours(),u="00",d=s.getMinutes();return u=d<10?"0"+String(d):String(d),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"assignment"},"\ud83d\udcdd"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},c," ",r,", ",i," at ",m,":",u),o.a.createElement("h4",null,n),o.a.createElement("span",{onClick:function(){return e.download(l)},className:"btn link-btn btn-primary mt-2 float-right"},"Download File"),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.details)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c")))))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},o.a.createElement("div",{className:"up mx-auto"},this.displayAssignment()))}}]),a}(c.Component),H=a(97),R=m.a.firestore(),B=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,l,s,r,c;Object(n.a)(this,a);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(c=t.call.apply(t,[this].concat(i))).state={subjects:[],details:[],lecturesToday:[],announcements:[],assignments:[],user:m.a.auth().currentUser,crCode:c.props.CrCode,loading:!0,tt:"",showDetails:!1},c.collRef=R.collection("classes"),c.docRef=c.collRef.doc(c.state.crCode),c.collRefLec=null===(e=c.docRef)||void 0===e?void 0:e.collection("lectures"),c.docRefLec=null===(l=c.collRefLec)||void 0===l?void 0:l.doc("lecturesToday"),c.collRefUp=null===(s=c.docRef)||void 0===s?void 0:s.collection("updates"),c.docRefUp=null===(r=c.collRefUp)||void 0===r?void 0:r.doc("announcements"),c.handleSignOut=function(){m.a.auth().signOut().then((function(){O.a.toast({html:"Logged Out",classes:"toast success-toast"}),window.location.reload()})).catch((function(e){O.a.toast({html:e.message,classes:"toast error-toast"})}))},c.copyLink=function(){var e=c.state.crCode,t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),O.a.toast({html:"Class Code Copied",classes:"toast success-toast"})},c.sortAnnouncements=function(){for(var e=c.state.announcements,t=0;t<e.length;t++)for(var a=t+1;a<e.length;a++)if(e[t].dateAndTime<e[a].dateAndTime){var n=e[t];e[t]=e[a],e[a]=n}c.setState({announcements:e})},c.sortAssignments=function(){for(var e=c.state.assignments,t=0;t<e.length;t++)for(var a=t+1;a<e.length;a++)if(e[t].dateAndTime<e[a].dateAndTime){var n=e[t];e[t]=e[a],e[a]=n}c.setState({assignments:e})},c.addSubject=function(e){var t=c.state.crCode,a=R.collection("teachers").doc(e.teacherId).collection("classes").doc(t),n={details:{course:c.state.details.course,branch:c.state.details.branch,sem:c.state.details.sem,crName:c.state.details.crName,classId:t},subjects:[{name:e.subject,code:e.subjectCode}]},l={subject:e.subject,subjectCode:e.subjectCode,teacher:e.teacher,teacherId:e.teacherId};c.docRef.update({subjects:m.a.firestore.FieldValue.arrayUnion(l)}),R.runTransaction((function(e){return e.get(a).then((function(t){t.exists?e.update(a,{subjects:m.a.firestore.FieldValue.arrayUnion(n.subjects[0])}):a.set(n)}))}))},c.addLecture=function(e){var t=[].concat(Object(h.a)(c.state.lecturesToday),[e]);c.docRefLec.update({lectures:t})},c.AddAnnouncement=function(e){var t=[].concat(Object(h.a)(c.state.announcements),[e]);c.docRefUp.update({announcements:t})},c.addAssignment=function(e){c.docRefUp.update({assignments:m.a.firestore.FieldValue.arrayUnion(e)})},c.handleDetailsEdit=function(){},c.deleteAnnouncement=function(e){c.docRefUp.update({announcements:c.state.announcements.filter((function(t){return t.dateAndTime!==e}))})},c.deleteSubject=function(e){var t=R.collection("teachers").doc(e.teacherId).collection("classes").doc(c.state.crCode);c.docRef.update({subjects:c.state.subjects.filter((function(t){return t.subjectCode!==e.subjectCode}))});var a={code:e.subjectCode,name:e.subject};R.runTransaction((function(e){return e.get(t).then((function(n){n.data().subjects&&(1===n.data().subjects.length?e.delete(t):e.update(t,{subjects:m.a.firestore.FieldValue.arrayRemove(a)}))}))}))},c.deleteAssignment=function(e){m.a.storage().ref("assignment/".concat(c.state.crCode,"/").concat(e.fileName)).delete().then((function(){alert("Deleted Successfully")})),c.docRefUp.update({assignments:m.a.firestore.FieldValue.arrayRemove(e)})},c.deleteLecture=function(e){c.docRefLec.update({lectures:m.a.firestore.FieldValue.arrayRemove(e)})},c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.docRef.onSnapshot((function(t){t.data()&&e.setState({subjects:t.data().subjects.map((function(e){return Object(p.a)({},e)})),details:t.data().details,loading:!1,tt:t.data().timeTable})})),this.docRefLec.onSnapshot((function(t){t.data()&&e.setState({lecturesToday:t.data().lectures.map((function(e){return Object(p.a)({},e)}))})})),this.docRefUp.onSnapshot((function(t){t.data()&&(e.setState({assignments:t.data().assignments.map((function(e){return Object(p.a)({},e)})),announcements:t.data().announcements.map((function(e){return Object(p.a)({},e)}))}),e.sortAnnouncements(),e.sortAssignments())}))}},{key:"render",value:function(){var e=this;return this.state.loading?o.a.createElement(d.a,null):this.state.showDetails?o.a.createElement(H.default,{onHide:function(){return e.setState({showDetails:!1})},email:this.state.user.email,classId:this.state.crCode,details:this.state.details,tt:this.state.tt}):o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"code-head-btn"},o.a.createElement(M.a,null),o.a.createElement("h1",{className:"mainPageHeading"},"CR Control Page!"),o.a.createElement(I.a,{className:"float-md-right mb-2"},o.a.createElement(I.a.Toggle,{className:"acc-dropdown",id:"dropdown-basic"},o.a.createElement("i",{className:"fa fa-user-circle",style:{fontSize:"30px",cursor:"pointer"}})),o.a.createElement(I.a.Menu,{className:"cr-profile-dropdown"},o.a.createElement(I.a.Item,null," ",this.state.details.crName," "),o.a.createElement(I.a.Item,{onClick:this.copyLink}," ",this.state.crCode," "),o.a.createElement(I.a.Item,{onClick:function(){return e.setState({showDetails:!0})}},"Class Details"),o.a.createElement(I.a.Divider,null),o.a.createElement(I.a.Item,{onClick:function(){return e.handleSignOut()}},o.a.createElement("i",{style:{fontSize:"25px",cursor:"pointer"},className:"fa fa-sign-out"}))))),o.a.createElement("div",{id:"Lectures"},o.a.createElement("h2",{className:"subHeading"},"Lectures Today:")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(k,{addLecture:this.addLecture,subjects:this.state.subjects}),o.a.createElement("div",{className:"lectures-row"},0===this.state.lecturesToday.length?o.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"No lectures for the day! Let students enjoy"):this.state.lecturesToday.map((function(t){return o.a.createElement(E,{lecture:t,key:t.startTime,onDelete:e.deleteLecture})}))),o.a.createElement("div",{id:"Assignments"},o.a.createElement("h2",{className:"subHeading"},"Assignments",o.a.createElement("span",{role:"img","aria-label":"assignments"},"\ud83d\udcdd")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"40%"}}),o.a.createElement(L,{addAssign:this.addAssignment,classCode:this.state.crCode}),this.state.assignments.length?this.state.assignments.map((function(t){return o.a.createElement(F,{key:t.url,onDelete:e.deleteAssignment,details:t})})):o.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"No Assignments pending for the class")),o.a.createElement("div",{id:"Announcements"},o.a.createElement("div",{className:"d-inline container-fluid"},o.a.createElement("h2",{className:"subHeading"},"Mitron! Announcement Suno"," ",o.a.createElement("span",{role:"img","aria-label":"announcement"},"\ud83d\udce2")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"40%"}})),o.a.createElement("div",{className:"d-flex justify-content-center mb-4"},o.a.createElement(S,{AddAnnouncement:this.AddAnnouncement}),o.a.createElement(A,{addPoll:this.AddAnnouncement}),o.a.createElement(T,{addLink:this.AddAnnouncement})),o.a.createElement("div",{className:"key-container"},o.a.createElement("div",{className:"poll-card m-2",style:{width:"90px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("i",{className:"fa fa-bookmark text-danger mr-1"})," Official")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"150px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udce2"," ")," ","Announcements")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udd17"),"Links")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"),"Polls")))),o.a.createElement("div",{className:"m-4 mx-n3 ann-container"},0!==this.state.announcements.length?this.state.announcements.map((function(t){return o.a.createElement(y,{announcement:t,id:t.dateAndTime,key:t.dateAndTime,onDelete:e.deleteAnnouncement})})):o.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"You can add any important announcements, polls or links for the class")),o.a.createElement("div",{id:"Subjects"},o.a.createElement("h2",{className:"subHeading"},"Subjects You study:")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(x,{addSubject:this.addSubject}),o.a.createElement("div",{className:"my-flex-container"},0===this.state.subjects.length?o.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"Please add the subjects of corresponding semester"):this.state.subjects.map((function(t){return o.a.createElement(f,{subject:t,key:t.subjectCode,onDelete:e.deleteSubject})}))),o.a.createElement(D.a,{paths:["Lectures","Assignments","Announcements","Subjects"]}))}}]),a}(c.Component),U=m.a.firestore(),P=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).isMount=!1,e.state={user:null,doc:"",verified:!1,loading:!0},e.authListener=function(){m.a.auth().onAuthStateChanged((function(t){t&&("cr"===t.displayName&&e.isMount&&e.setState({verified:!0}),U.collection("cr").doc(null===t||void 0===t?void 0:t.email).get().then((function(t){t.exists&&e.isMount&&e.setState({doc:t.data().classId})})));e.isMount&&e.setState({user:t})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.isMount=!0,this.authListener()}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e,t=this;if(this.state.loading&&(e=o.a.createElement(d.a,null)),!this.state.loading){if(!this.state.user)return o.a.createElement(i.a,{to:"/cr/login"});e=this.state.verified?o.a.createElement(B,{CrCode:this.state.doc}):o.a.createElement(u.a,null)}return setTimeout((function(){t.isMount&&t.setState({loading:!1})}),2e3),e}}]),a}(c.Component);t.default=P},43:function(e,t,a){"use strict";var n=a(49),l=a.n(n);a(52),a(53),a(54);l.a.initializeApp({apiKey:"AIzaSyAmIvOPjQnup4mQ5aG39T5baEpulNmWv4k",authDomain:"laayak-web-app.firebaseapp.com",databaseURL:"https://laayak-web-app.firebaseio.com",projectId:"laayak-web-app",storageBucket:"laayak-web-app.appspot.com",messagingSenderId:"308936714271",appId:"1:308936714271:web:002f9b74b345181da7cd2a",measurementId:"G-YHF3LDWKKG"}),t.a=l.a},55:function(e,t,a){"use strict";var n=a(12),l=a(13),s=a(15),r=a(14),c=a(0),o=a.n(c),i=(a(60),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={mode:document.getElementsByTagName("Body")[0].classList[0]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"float-md-left w-auto mb-2 input-group custom-control custom-switch"},o.a.createElement("label",{id:"switch",className:"switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(){"dark"===e.state.mode?localStorage.setItem("mode","light"):localStorage.setItem("mode","dark"),document.getElementsByTagName("Body")[0].classList.replace(e.state.mode,localStorage.getItem("mode")),e.setState({mode:localStorage.getItem("mode")})},checked:"dark"===this.state.mode,id:"dark"}),o.a.createElement("span",{className:"slider round"})))}}]),a}(c.Component));t.a=i},59:function(e,t,a){"use strict";var n=a(12),l=a(13),s=a(15),r=a(14),c=a(0),o=a.n(c),i=(a(63),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"b-nav"},o.a.createElement("ul",{className:"b-nav-links"},this.props.paths.map((function(e){return o.a.createElement("li",{key:e},o.a.createElement("a",{href:"#"+e,className:"b-nav-link"},e))}))))}}]),a}(c.Component));t.a=i},60:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){var t=e.tt;return l.a.createElement("div",null,l.a.createElement("img",{style:{margin:"30px 0",width:"700px",borderRadius:"10px",boxShadow:"23px 23px 46px #5a7a8b, -23px -23px 46px #7aa4bd"},src:t,alt:"time table"}))}},66:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(67);function l(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},67:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(66);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,s=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(o){l=!0,s=o}finally{try{n||null==c.return||c.return()}finally{if(l)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71:function(e,t,a){"use strict";var n=a(12),l=a(13),s=a(15),r=a(14),c=a(0),o=a.n(c),i=a(6),m=a(45),u=a.n(m),d=a(43),p=(a(72),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleSignOut=function(){d.a.auth().signOut().then((function(){window.location.reload()})).catch((function(e){u.a.toast({html:e.message,classes:"toast error-toast"})}))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"403"},o.a.createElement("section",{className:"page_403"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 "},o.a.createElement("div",{className:"col-sm-offset-1  text-center"},o.a.createElement("h1",{className:"text-center"},"403"),o.a.createElement("div",{className:"four_zero_three_bg"}),o.a.createElement("div",{className:"contant_box_403"},o.a.createElement("h3",{className:"h2"},"Access Denied"),o.a.createElement("h5",null,o.a.createElement("button",{className:"btn btn-primary mx-2",onClick:this.handleSignOut},"Sign In"),"to gain access / go",o.a.createElement(i.b,{className:"btn btn-success mx-2",to:"/"},"Home")))))))))}}]),a}(c.Component));t.a=p},72:function(e,t,a){},80:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(67);var l=a(66);function s(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(l.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},97:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),s=a(15),r=a(14),c=a(0),o=a.n(c),i=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.getDetails=function(){var t=e.props.details,a=t.branch,n=t.college,l=t.course,s=t.sem;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("h3",null,o.a.createElement("img",{alt:"details",src:"https://cdn1.iconfinder.com/data/icons/education-set-01/512/document-info-512.png"}))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("p",null,"Branch: ",o.a.createElement("strong",null,a)),o.a.createElement("p",null,"College: ",o.a.createElement("strong",null,n)),o.a.createElement("p",null,"Course: ",o.a.createElement("strong",null,l)),o.a.createElement("p",null,"Semester: ",o.a.createElement("strong",null,s))))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},o.a.createElement("div",{className:"up mx-auto"},this.getDetails()))}}]),a}(c.Component),m=a(43),u=a(59),d=a(55),p=a(80),h=a(68),f=a(45),b=a.n(f),g=a(47),E=m.a.firestore();var v=function(e){var t=e.student,a=(e.style,e.stuList),n=e.code,l=Object(c.useState)(!1),s=Object(h.a)(l,2),r=s[0],i=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{style:{height:"100vh"},show:r,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(g.a.Body,{style:{padding:0}},o.a.createElement("img",{src:"/crEjected.gif",alt:"ejecting",width:"100%"}))),o.a.createElement("tr",null,o.a.createElement("td",null,t.rollNo),o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.email),o.a.createElement("td",null,o.a.createElement("img",{onClick:function(){var e=a.filter((function(e){return e.rollNo!==t.rollNo})),l=E.collection("students").doc(t.email);i(!0),setTimeout((function(){E.collection("classes").doc(n).collection("details").doc("stuList").update({studentsList:e}).then((function(){b.a.toast({html:"Kicked Successfully",classes:"toast success-toast"})})).catch((function(e){return b.a.toast({html:e.message,classes:"toast error-toast"})})),l.update({classCode:"kicked"}),i(!1)}),5e3)},width:"20px",style:{cursor:"pointer"},src:"https://cdn4.iconfinder.com/data/icons/web-basics-vol-05/512/user_human_person_avatar_minus_close_delete-512.png",alt:"kick"}))))},y=a(2),N=a(7),j=a(46),w=a.n(j),x=a(48),C=o.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,l=e.striped,s=e.bordered,r=e.borderless,c=e.hover,i=e.size,m=e.variant,u=e.responsive,d=Object(N.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=Object(x.a)(a,"table"),h=w()(n,p,m&&p+"-"+m,i&&p+"-"+i,l&&p+"-striped",s&&p+"-bordered",r&&p+"-borderless",c&&p+"-hover"),f=o.a.createElement("table",Object(y.a)({},d,{className:h,ref:t}));if(u){var b=p+"-responsive";return"string"===typeof u&&(b=b+"-"+u),o.a.createElement("div",{className:b},f)}return f}));var O=function(e){var t=e.student;return o.a.createElement("tr",null,o.a.createElement("td",null,t.rollNo),o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.email),o.a.createElement("td",null,o.a.createElement("i",{className:"fa fa-ban"})))},k=m.a.firestore();var S=function(e){var t=e.code,a=e.crEmail,n={border:"1px solid black",padding:3},l=Object(c.useState)([]),s=Object(h.a)(l,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){k.collection("classes").doc(t).collection("details").doc("stuList").onSnapshot((function(e){e.data()&&i(Object(p.a)(e.data().studentsList))}))})),o.a.createElement("div",null,0===r.length?o.a.createElement("h4",null,"No students have joined the class yet!"):o.a.createElement("div",null,o.a.createElement(C,{striped:!0,bordered:!0,responsive:!0,className:"mx-auto",style:{maxWidth:"600px"}},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Roll No."),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Kick"))),o.a.createElement("tbody",null,r.map((function(e){return e.email===a?o.a.createElement(O,{key:"cr",student:e}):o.a.createElement(v,{student:e,style:n,key:e.rollNo,stuList:r,code:t})}))))))},A=m.a.firestore(),T=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,tt:{},progress:0},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.browseFile=function(t){var a=t.target.files[0];a&&"image"===a.type.split("/")[0]?e.setState({tt:a}):b.a.toast({html:"Please select a valid image",classes:"toast error-toast"})},e.uploadtt=function(t){t.preventDefault();var a=e.state.tt;if(a.name){document.getElementById("progress").classList.remove("hide");var n=m.a.storage().ref("timetables/".concat(e.props.classCode,"/timetable"));n.put(a).on("state_changed",(function(t){var a=t.bytesTransferred/t.totalBytes*100;console.log(a),function(t){t&&e.setState({progress:t})}(a)}),(function(e){}),(function(){b.a.toast({html:"Uploaded Successfully",classes:"toast success-toast"}),n.getDownloadURL().then((function(t){!function(t){(alert("called"),t)?(A.collection("classes").doc(e.props.classCode).update({timeTable:t}),document.getElementById("progress").classList.add("hide"),e.hideModal()):b.a.toast({html:"Please upload an image first",classes:"toast error-toast"})}(t)})).catch((function(e){return console.log(e)}))}))}},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",onChange:e.browseFile,accept:"image/*",required:!0}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02","aria-describedby":"inputGroupFileAddon02"},e.state.tt.name?e.state.tt.name:"Choose File")),o.a.createElement("div",{className:"input-group"},o.a.createElement("button",{className:"btn btn-sm btn-success",type:"submit",style:{margin:"5px auto",width:"20%"}},"Upload")),o.a.createElement("div",{className:"input-group"},o.a.createElement("progress",{id:"progress",className:"custom-progress-bar hide",value:e.state.progress,max:"100"}," "))))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Edit Timetable"),o.a.createElement(g.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(g.a.Header,{closeButton:!0},o.a.createElement(g.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Upload time table here:"))),o.a.createElement(g.a.Body,null,o.a.createElement("form",{onSubmit:this.uploadtt},this.getForm()))))}}]),a}(c.Component),D=a(64),M=m.a.firestore(),I=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).isMount=!1,e.state={details:e.props.details,classId:e.props.classId},e.collRef=M.collection("classes"),e.docRef=e.collRef.doc(e.state.classId),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"code-head-btn"},o.a.createElement(d.a,null),o.a.createElement("h1",{className:"mainPageHeading",style:{marginTop:"-3vh"}},"Class Details"),o.a.createElement("i",{onClick:this.props.onHide,className:"fa fa-home",style:{cursor:"pointer",fontSize:"30px",color:"#000"}})),o.a.createElement("h2",{id:"Details",className:"subHeading"},"Info:"," "),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(i,{details:this.state.details,onEdit:this.handleDetailsEdit}),o.a.createElement("h2",{id:"Timetable",className:"subHeading"},"Time Table",o.a.createElement(T,{classCode:this.state.classId}),o.a.createElement(D.a,{tt:this.props.tt})),o.a.createElement("h2",{id:"Students",className:"subHeading"},"Students:"," "),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(S,{crEmail:this.props.email,code:this.state.classId}),o.a.createElement(u.a,{paths:["Details","Students"]}))}}]),a}(c.Component);t.default=I}}]);
//# sourceMappingURL=9.64775a80.chunk.js.map